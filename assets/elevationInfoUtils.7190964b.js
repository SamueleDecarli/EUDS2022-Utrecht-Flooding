import{t as f,r as s,al as i,ak as g}from"./vendor.e1f4f720.js";function d(t,e){return f(e)||!e.mode?t?"absolute-height":"on-the-ground":e.mode}function h(t,e){return d(!!s(t)&&t.hasZ,e)}function E(t){const e=m(t),n=h(t.geometry,e);return{mode:n,offset:s(e)&&n!=="on-the-ground"?i(e.offset,0)*g(i(e.unit,"meters")):0}}function m(t){return t.layer&&"elevationInfo"in t.layer?t.layer.elevationInfo:null}function P(t,e,n,o=null){return v(t,e.x,e.y,e.hasZ?e.z:0,e.spatialReference,n,o)}function p(t,e,n,o,a=null){return v(t,e[0],e[1],e.length>2?e[2]:0,n,o,a)}function v(t,e,n,o,a,u,l=null){if(f(u))return;const r=s(l)?l.mode:"absolute-height";if(r==="on-the-ground")return 0;const{absoluteZ:c}=b(e,n,o,a,t,u);return Z(c,e,n,o,a,t,l,r)}function b(t,e,n,o,a,u){const l=s(u.offset)?u.offset:0;switch(u.mode){case"absolute-height":return{absoluteZ:n+l,elevation:0};case"on-the-ground":{const r=i(a.elevationProvider.getElevation(t,e,0,o,"ground"),0);return{absoluteZ:r,elevation:r}}case"relative-to-ground":{const r=i(a.elevationProvider.getElevation(t,e,n,o,"ground"),0);return{absoluteZ:n+r+l,elevation:r}}case"relative-to-scene":{const r=i(a.elevationProvider.getElevation(t,e,n,o,"scene"),0);return{absoluteZ:n+r+l,elevation:r}}}}function Z(t,e,n,o,a,u,l,r){const c=s(l)&&s(l.offset)?l.offset:0;switch(r){case"absolute-height":return t-c;case"relative-to-ground":return t-(i(u.elevationProvider.getElevation(e,n,o,a,"ground"),0)+c);case"relative-to-scene":return t-(i(u.elevationProvider.getElevation(e,n,o,a,"scene"),0)+c)}}const $={mode:"absolute-height",offset:0};export{b as d,P as f,$ as m,h as s,E as u,p as v};
